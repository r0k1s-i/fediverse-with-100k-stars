# Fediverse è”é‚¦å®‡å®™å¯è§†åŒ– - å®æ–½è®¡åˆ’

**æ›´æ–°æ—¥æœŸ**: 2026-01-11
**é¡¹ç›®**: fedi-night-with-100k-stars â†’ Fediverse Visualization
**çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å®Œæˆ

---

## âœ… é¡¹ç›®å®ŒæˆçŠ¶æ€

### å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½

| Phase | åç§° | çŠ¶æ€ | è¯´æ˜ |
|-------|------|------|------|
| 1 | æ•°æ®è·å– | âœ… å®Œæˆ | FediDB API æŠ“å–ï¼Œ40k+ å®ä¾‹ |
| 2 | é¢œè‰²ç³»ç»Ÿ | âœ… å®Œæˆ | 38ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ |
| 3 | ä½ç½®èšç±» | âœ… å®Œæˆ | 21ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ |
| 4 | æ•°æ®è½¬æ¢ | âœ… å®Œæˆ | CLI å·¥å…·ï¼Œæ”¯æŒç®¡é“ |
| 5 | WebGLäº¤äº’ | âœ… å®Œæˆ | 4k+ ç‚¹å‡»å¯äº¤äº’ |
| 6 | Canvasæ ‡ç­¾ | âœ… å®Œæˆ | æ™ºèƒ½é¿è®©ç®—æ³• |
| 7 | ç›®å½•é‡æ„ | âœ… å®Œæˆ | ç°ä»£å‰ç«¯æœ€ä½³å®è·µ |
| 8 | ç°ä»£åŒ–å‡çº§ | âœ… å®Œæˆ | å‡çº§è‡³ Three.js r158, ES Modules |

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„ï¼ˆå·²é‡æ„ï¼‰

```
fedi-night-with-100k-stars/
â”œâ”€â”€ index.html                      # ä¸»å…¥å£
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ core/                   # 30ä¸ªæ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ main.js             # æ ¸å¿ƒåˆå§‹åŒ–å’ŒåŠ¨ç”»å¾ªç¯
â”‚   â”‚   â”‚   â”œâ”€â”€ galaxy.js           # é“¶æ²³ç³»ç”Ÿæˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ fediverse.js        # Fediverse æ¸²æŸ“æ ¸å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ fediverse-interaction.js  # äº¤äº’ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ fediverse-labels.js # Canvas æ ‡ç­¾
â”‚   â”‚   â”‚   â”œâ”€â”€ interaction-math.js # äº¤äº’æ•°å­¦è®¡ç®—
â”‚   â”‚   â”‚   â”œâ”€â”€ label-layout.js     # æ ‡ç­¾å¸ƒå±€å¼•æ“
â”‚   â”‚   â”‚   â””â”€â”€ ...                 # å…¶ä»–æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â””â”€â”€ lib/                    # 11ä¸ªç¬¬ä¸‰æ–¹åº“
â”‚   â”‚       â”œâ”€â”€ three.min.js        # Three.js r58
â”‚   â”‚       â”œâ”€â”€ jquery-1.7.1.min.js
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ style.css               # ä¸»æ ·å¼
â”‚   â”‚   â””â”€â”€ fonts.css               # å­—ä½“å®šä¹‰
â”‚   â”œâ”€â”€ shaders/                    # 16ä¸ª GLSL ç€è‰²å™¨
â”‚   â”‚   â”œâ”€â”€ corona.fsh/vsh
â”‚   â”‚   â”œâ”€â”€ datastars.fsh/vsh
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ assets/
â”‚       â”œâ”€â”€ textures/               # 33ä¸ªçº¹ç†æ–‡ä»¶
â”‚       â”œâ”€â”€ audio/                  # èƒŒæ™¯éŸ³ä¹
â”‚       â”œâ”€â”€ fonts/                  # å­—ä½“æ–‡ä»¶
â”‚       â””â”€â”€ icons/                  # SVG å›¾æ ‡
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ fediverse_raw.json          # åŸå§‹ API æ•°æ® (19MB)
â”‚   â”œâ”€â”€ fediverse_final.json        # å¤„ç†åæ•°æ® (27MB)
â”‚   â””â”€â”€ stars_all.json              # åŸå§‹æ˜Ÿä½“æ•°æ®
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ fediverse-processor/        # Golang æ•°æ®å¤„ç†å·¥å…·
â”‚       â”œâ”€â”€ main.go
â”‚       â”œâ”€â”€ cli.go
â”‚       â”œâ”€â”€ colors.go               # é¢œè‰²ç®—æ³•
â”‚       â”œâ”€â”€ positions.go            # ä½ç½®ç®—æ³•
â”‚       â”œâ”€â”€ types.go
â”‚       â”œâ”€â”€ colors_test.go          # 38ä¸ªæµ‹è¯•
â”‚       â”œâ”€â”€ positions_test.go       # 21ä¸ªæµ‹è¯•
â”‚       â””â”€â”€ go.mod
â”œâ”€â”€ AGENTS.md                       # ç¼–ç è§„èŒƒ
â”œâ”€â”€ README.md                       # é¡¹ç›®è¯´æ˜
â””â”€â”€ .gitignore
```

---

## âœ… å·²ç¡®è®¤çš„æŠ€æœ¯å†³ç­–

### 1. é¢œè‰²æ˜ å°„æ–¹æ¡ˆ

**ç®—æ³•**: æ··åˆæ–¹æ¡ˆï¼ˆå¯¹æ•°å¹´é¾„æ˜ å°„ + çºªå…ƒåŠ æƒ + åŸŸåå“ˆå¸Œæ‰°åŠ¨ï¼‰

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| åˆ›ä¸–æ—¥æœŸ | 2016-11-23 | Fediverseè¯ç”Ÿæ—¥ |
| è‰²ç›¸èŒƒå›´ | 0Â°-240Â° | çº¢â†’è“ |
| äº®åº¦èŒƒå›´ | 30%-75% | åƒµå°¸â†’æ´»è·ƒ |
| é¥±å’Œåº¦èŒƒå›´ | 40%-90% | å°â†’å¤§å®ä¾‹ |
| åŸŸåå“ˆå¸Œæ‰°åŠ¨ | Â±30Â° | è§£å†³åŒé¢œè‰²é—®é¢˜ |

### 2. ç©ºé—´å¸ƒå±€ç®—æ³•

**ç®—æ³•**: ä¸‰ä½“ç³»ç»Ÿ + å¤šæ˜Ÿç³»å›¢æ··åˆ

- **é¡¶å±‚**: 66ç§è½¯ä»¶ç±»å‹ = 66ä¸ªç‹¬ç«‹æ˜Ÿç³»
- **Mastodon**: å‰3å¤§å®ä¾‹å½¢æˆä¸‰æ’æ˜Ÿç³»ç»Ÿ
- **å…¶ä»–æ˜Ÿç³»**: æœ€å¤§å®ä¾‹ä¸ºä¸­å¿ƒï¼Œå…¶ä»–è½¨é“åˆ†å¸ƒ

### 3. äº¤äº’ç³»ç»Ÿ

**å››å±‚æ¶æ„**:
- Layer 4: DOMè¯¦æƒ…é¢æ¿ (ç‚¹å‡»æ˜¾ç¤º)
- Layer 3: Tooltip DOM (æ‚¬åœæ˜¾ç¤º)
- Layer 2: Canvas 2Dæ ‡ç­¾ (é™„è¿‘300ä¸ª)
- Layer 1: WebGLç²’å­ (40kå…¨éƒ¨å¯ç‚¹å‡»)

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç»“æœ |
|------|------|
| æ•°æ®å¤„ç†é€Ÿåº¦ | 0.128 æ¯«ç§’ (80å®ä¾‹) |
| é¢„è®¡40kå®ä¾‹ | ~64 æ¯«ç§’ |
| ç›¸æ¯”Node.js | å¿« 200-300 å€ |
| ç›®æ ‡å¸§ç‡ | 60fps |
| å¸§é¢„ç®— | 4ms/frame |

---

## ğŸ”§ è¿è¡Œé¡¹ç›®

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python3 -m http.server 8000
# æˆ–
npx serve .

# è®¿é—®
open http://localhost:8000
```

### æ•°æ®å¤„ç†ï¼ˆå¦‚éœ€é‡æ–°ç”Ÿæˆï¼‰

```bash
# ç¼–è¯‘å¤„ç†å™¨
cd scripts/fediverse-processor
go build

# å¤„ç†æ•°æ®
./fediverse-processor -input ../../data/fediverse_raw.json -output ../../data/fediverse_final.json -verbose

# è¿è¡Œæµ‹è¯•
go test -v
```

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### 2026-01-12
- ğŸ’„ **UI**: ä¼˜åŒ–å®ä¾‹è¯¦æƒ…æ ‡é¢˜æ˜¾ç¤ºï¼Œæˆªæ–­è¿‡é•¿åç§°å¹¶æ·»åŠ  Tooltipï¼Œé˜²æ­¢é®æŒ¡è¿”å›æŒ‰é’®
- ğŸ’„ **UI**: ä¼˜åŒ–è¿‘è§†è·äº¤äº’ä½“éªŒï¼Œè¿‘è·ç¦» hover ä¸å†æ˜¾ç¤ºè·Ÿéšé¼ æ ‡çš„ Tooltipï¼Œå…³é—­è¯¦æƒ…åå½“å‰å®ä¾‹åæ˜¾ç¤ºåœ¨å·¦ä¸‹è§’
- ğŸ› **ä¿®å¤**: å¢å¤§è¿‘è·ç¦»ç‚¹å‡»åˆ¤å®šèŒƒå›´ï¼ˆ10 â†’ 60ï¼‰ï¼Œæ”¹å–„ç§»åŠ¨ç«¯æˆ–è§¦æ‘¸æ“ä½œä¸‹çš„é€‰ä¸­ä½“éªŒ
- âœ¨ **ä¼˜åŒ–**: å½“ç›¸æœºè¿‘è·ç¦»é è¿‘ Fediverse å®ä¾‹æ—¶ï¼ˆ< 80 è·ç¦»ï¼‰ï¼Œè‡ªåŠ¨æ¸²æŸ“æ˜Ÿçƒæ¨¡å‹ï¼Œæ— éœ€ç‚¹å‡»å³å¯é¢„è§ˆï¼Œè§£å†³"åªè§æ ‡ç­¾ä¸è§æ˜Ÿçƒ"çš„é—®é¢˜
- â™»ï¸ **é‡æ„**: å¼•å…¥ `updateFediverseInteraction()` å¹¶åœ¨ä¸»å¾ªç¯ä¸­è°ƒç”¨ï¼Œç¡®ä¿ç›´æ¥ç¼©æ”¾ï¼ˆä¸ç§»åŠ¨é¼ æ ‡ï¼‰æ—¶ä¹Ÿèƒ½æ­£ç¡®è§¦å‘è‡ªåŠ¨æ¸²æŸ“å’Œäº¤äº’çŠ¶æ€æ›´æ–°
- ğŸ› **ä¿®å¤**: è®¾ç½®æ—§ç‰ˆæ ‡ç­¾ï¼ˆLegacy Markersï¼‰çš„ `pointer-events: none`ï¼Œå…è®¸é¼ æ ‡ç‚¹å‡»ç©¿é€æ ‡ç­¾è§¦å‘èƒŒåçš„ WebGL äº¤äº’
- ğŸ› **ä¿®å¤**: éšè—é»˜è®¤æ˜¾ç¤ºçš„å¤ªé˜³æ¨¡å‹ï¼ˆSunï¼‰ï¼Œé¿å…äº§ç”Ÿæ··æ·†ï¼Œä»…åœ¨ç‚¹å‡»å…·ä½“ Fediverse å®ä¾‹æ—¶åŠ¨æ€æ˜¾ç¤ºæ˜Ÿçƒæ¨¡å‹
- ğŸ› **ä¿®å¤**: å…è®¸åœ¨æœªé€‰æ‹©ä»»ä½•å®ä¾‹çš„æƒ…å†µä¸‹ç›´æ¥ç¼©æ”¾å¹¶ç‚¹å‡»å¤ªé˜³ (Sol) æŸ¥çœ‹è¯¦æƒ…
- ğŸ› **ä¿®å¤**: ä¿®æ­£ Gyroscope ç±»çš„ä¸–ç•Œåæ ‡æ›´æ–°é€»è¾‘ï¼Œè§£å†³ä¸­å¿ƒæ˜Ÿä½“ä½ç½®ä¸éšæ—‹è½¬æ›´æ–°çš„é—®é¢˜
- â™»ï¸ **ç°ä»£åŒ–å‡çº§**: å®Œæˆ Three.js r158 è¿ç§»
  - ç§»é™¤ `three-compat.js` å…¼å®¹å±‚
  - å®ç°æœ¬åœ° `Gyroscope` ç±»
  - è¿ç§» `LensFlare` åˆ°ç°ä»£ Addon
  - æ›¿æ¢ `LinePieces` ä¸º `LineSegments`
  - ä¿®å¤ `tween.js` æ¨¡å—å¯¼å‡ºé—®é¢˜
  - ä¿®å¤æ ¸å¿ƒæ¨¡å—çš„ ES Module å¯¼å…¥
- âœ¨ **åŠŸèƒ½**: ä¼˜åŒ–æ˜Ÿä½“å‚çº¿æ˜¾ç¤ºé€»è¾‘
  - ä»"ä»…å¤§å®ä¾‹æ˜¾ç¤º"æ”¹ä¸º"éšæœºæŒ‘é€‰å›ºå®šæ•°é‡æ˜¾ç¤º"
  - é¿å…å¤§å®ä¾‹é›†ä¸­åŒºåŸŸå‚çº¿è¿‡äºå¯†é›†
  - å®ç° `pickRandomIndices` æ•°å­¦å·¥å…·å‡½æ•°

### 2026-01-11
- â™»ï¸ **ç›®å½•é‡æ„**: æŒ‰ç°ä»£å‰ç«¯æœ€ä½³å®è·µé‡ç»„
  - åˆ é™¤28ä¸ªæ— ç”¨æ–‡ä»¶ (-6,041è¡Œä»£ç )
  - åˆ›å»º `src/` ç›®å½•ç»“æ„
  - åˆ†ç¦» `js/core/`ã€`js/lib/`ã€`shaders/`ã€`assets/`
  - æ›´æ–°æ‰€æœ‰æ–‡ä»¶å¼•ç”¨è·¯å¾„

### 2026-01-09
- âœ… Phase 6 Canvasæ ‡ç­¾æ¸²æŸ“å®Œæˆ
- âœ… Phase 5 WebGLäº¤äº’ç³»ç»Ÿå®Œæˆ
- âœ… æ€§èƒ½ä¼˜åŒ–ï¼šçº¯æ•°å­¦è®¡ç®—æ›¿ä»£ Raycaster

### ä¹‹å‰
- âœ… Phase 1-4 æ•°æ®å¤„ç†ç®¡çº¿å®Œæˆ
- âœ… 59ä¸ªå•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡

---

## ğŸš€ å¯é€‰åç»­ä¼˜åŒ–

- [ ] Phase 8: è§†è§‰å¢å¼ºï¼ˆæœç´¢ã€è¿‡æ»¤ã€ç»Ÿè®¡é¢æ¿ï¼‰
- [ ] Phase 9: å®æ—¶æ›´æ–°æ”¯æŒ
- [x] Three.js å‡çº§åˆ°ç°ä»£ç‰ˆæœ¬
- [ ] æ·»åŠ æ„å»ºå·¥å…· (Vite/Rollup)
- [ ] TypeScript è¿ç§»
